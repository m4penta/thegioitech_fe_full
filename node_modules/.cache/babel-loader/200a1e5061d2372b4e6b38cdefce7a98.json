{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Documents/\\u0110o\\u0302\\u0300 a\\u0301n to\\u0302\\u0301t nghie\\u0323\\u0302p/\\u0110O\\u0302\\u0300 A\\u0301N/FE/thegioitech_fe_full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/\\u0110o\\u0302\\u0300 a\\u0301n to\\u0302\\u0301t nghie\\u0323\\u0302p/\\u0110O\\u0302\\u0300 A\\u0301N/FE/thegioitech_fe_full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/\\u0110o\\u0302\\u0300 a\\u0301n to\\u0302\\u0301t nghie\\u0323\\u0302p/\\u0110O\\u0302\\u0300 A\\u0301N/FE/thegioitech_fe_full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useState}from\"react\";import{useParams}from\"react-router-dom\";import parse from\"html-react-parser\";import{FontAwesomeIcon}from\"@fortawesome/react-fontawesome\";import{Comment}from\"./comment\";import{ProductBox}from\"./product-box\";import{BoxProduct}from\"../common/\";import{Store}from\"./store\";import{ProductSlider}from\"./product-slider\";import{faGear}from\"@fortawesome/free-solid-svg-icons\";import\"./content-detail.scss\";import{ProductSpecs}from\"./product-specs\";import{query}from\"../../access/index\";import QueryString from\"qs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var ContentDetail=function ContentDetail(){var _useParams=useParams(),slug=_useParams.slug;var _useState=useState(),_useState2=_slicedToArray(_useState,2),product=_useState2[0],setProduct=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isArticleExpand=_useState4[0],setIsArticleExpand=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),relateProduct=_useState6[0],setRelateProduct=_useState6[1];var handleArticleAction=function handleArticleAction(){setIsArticleExpand(!isArticleExpand);};useEffect(function(){_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$query$product$,product;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return query().product.getOne(slug);case 2:_yield$query$product$=_context.sent;product=_yield$query$product$.data.product;setProduct(product);case 5:case\"end\":return _context.stop();}}},_callee);}))();},[slug]);useEffect(function(){window.scrollTo(0,0);},[product]);useEffect(function(){var isCancelling=false;_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var _yield$query$product$2,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return query().product.getFilter(QueryString.stringify({category:product.category,brand:product.brand}));case 3:_yield$query$product$2=_context2.sent;data=_yield$query$product$2.data;setRelateProduct(data);if(isCancelling===false){}_context2.next=11;break;case 9:_context2.prev=9;_context2.t0=_context2[\"catch\"](0);case 11:return _context2.abrupt(\"return\",function(){isCancelling=true;});case 12:case\"end\":return _context2.stop();}}},_callee2,null,[[0,9]]);}))();},[product]);return product?/*#__PURE__*/_jsx(\"main\",{className:\"content-wrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"content-heading\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"content-heading-text\",children:product.name}),product.flash_sale&&/*#__PURE__*/_jsx(\"span\",{className:\"content-heading-flashsale\",children:\"Flash sale\"})]}),/*#__PURE__*/_jsx(\"section\",{className:\"detail-box-wrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"detail-box\",children:[/*#__PURE__*/_jsx(ProductSlider,{images:product.product_image}),/*#__PURE__*/_jsx(ProductBox,{product:product}),/*#__PURE__*/_jsx(Store,{})]})}),/*#__PURE__*/_jsxs(\"section\",{className:\"description\",children:[/*#__PURE__*/_jsxs(\"div\",{className:isArticleExpand?\"article article-expand\":\"article\",children:[product.article&&parse(product.article),/*#__PURE__*/_jsx(\"button\",{onClick:handleArticleAction,type:\"button\",className:\"btn article-btn\",children:isArticleExpand?\"Thu gọn\":\"Xem thêm\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"specs\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"specs-heading\",children:[/*#__PURE__*/_jsxs(\"h6\",{className:\"specs-heading-text\",children:[\"Th\\xF4ng s\\u1ED1 k\\u1EF9 thu\\u1EADt \",product.name]}),/*#__PURE__*/_jsx(\"div\",{className:\"specs-heading-media\",children:/*#__PURE__*/_jsx(\"img\",{src:product.product_image[0].location,alt:product.name,className:\"specs-heading-media-img\"})}),/*#__PURE__*/_jsxs(\"button\",{className:\"btn specs-heading-action\",children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faGear}),/*#__PURE__*/_jsx(\"span\",{children:\"C\\u1EA5u h\\xECnh chi ti\\u1EBFt\"})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"specs-content\",children:/*#__PURE__*/_jsx(ProductSpecs,{specsList:product.specification})})]})]}),/*#__PURE__*/_jsx(BoxProduct,{name:\"S\\u1EA3n ph\\u1EA9m t\\u01B0\\u01A1ng t\\u1EF1\",products:relateProduct,loading:false,numberOfItem:5,className:\"product-relate\"}),/*#__PURE__*/_jsx(Comment,{name:product.name,productId:product._id})]})}):false;};","map":{"version":3,"names":["useEffect","useState","useParams","parse","FontAwesomeIcon","Comment","ProductBox","BoxProduct","Store","ProductSlider","faGear","ProductSpecs","query","QueryString","jsx","_jsx","jsxs","_jsxs","ContentDetail","_useParams","slug","_useState","_useState2","_slicedToArray","product","setProduct","_useState3","_useState4","isArticleExpand","setIsArticleExpand","_useState5","_useState6","relateProduct","setRelateProduct","handleArticleAction","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$query$product$","wrap","_callee$","_context","prev","next","getOne","sent","data","stop","window","scrollTo","isCancelling","_callee2","_yield$query$product$2","_callee2$","_context2","getFilter","stringify","category","brand","t0","abrupt","className","children","name","flash_sale","images","product_image","article","onClick","type","src","location","alt","icon","specsList","specification","products","loading","numberOfItem","productId","_id"],"sources":["/Users/mac/Documents/Đồ án tốt nghiệp/ĐỒ ÁN/FE/thegioitech_fe_full/src/component/content-detail/index.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport parse from \"html-react-parser\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Comment } from \"./comment\";\nimport { ProductBox } from \"./product-box\";\nimport { BoxProduct } from \"../common/\";\nimport { Store } from \"./store\";\nimport { ProductSlider } from \"./product-slider\";\nimport { faGear } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./content-detail.scss\";\nimport { ProductSpecs } from \"./product-specs\";\nimport { query } from \"../../access/index\";\nimport QueryString from \"qs\";\n\nexport const ContentDetail = () => {\n  const { slug } = useParams();\n  const [product, setProduct] = useState();\n  const [isArticleExpand, setIsArticleExpand] = useState(false);\n  const [relateProduct, setRelateProduct] = useState([]);\n\n  const handleArticleAction = () => {\n    setIsArticleExpand(!isArticleExpand);\n  };\n\n  useEffect(() => {\n    (async () => {\n      const {\n        data: { product },\n      } = await query().product.getOne(slug);\n      setProduct(product);\n    })();\n  }, [slug]);\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [product]);\n\n  useEffect(() => {\n    let isCancelling = false;\n    (async () => {\n      try {\n        const { data } = await query().product.getFilter(\n          QueryString.stringify({\n            category: product.category,\n            brand: product.brand,\n          })\n        );\n        setRelateProduct(data);\n        if (isCancelling === false) {\n        }\n      } catch (error) {}\n      return () => {\n        isCancelling = true;\n      };\n    })();\n  }, [product]);\n\n  return product ? (\n    <main className=\"content-wrap\">\n      <div className=\"container content\">\n        <div className=\"content-heading\">\n          <h1 className=\"content-heading-text\">{product.name}</h1>\n          {product.flash_sale && (\n            <span className=\"content-heading-flashsale\">Flash sale</span>\n          )}\n        </div>\n        <section className=\"detail-box-wrap\">\n          <div className=\"detail-box\">\n            <ProductSlider images={product.product_image} />\n            <ProductBox product={product} />\n            <Store />\n          </div>\n        </section>\n        <section className=\"description\">\n          <div\n            className={isArticleExpand ? `article article-expand` : `article`}\n          >\n            {product.article && parse(product.article)}\n            <button\n              onClick={handleArticleAction}\n              type=\"button\"\n              className=\"btn article-btn\"\n            >\n              {isArticleExpand ? \"Thu gọn\" : \"Xem thêm\"}\n            </button>\n          </div>\n          <div className=\"specs\">\n            <div className=\"specs-heading\">\n              <h6 className=\"specs-heading-text\">\n                Thông số kỹ thuật {product.name}\n              </h6>\n              <div className=\"specs-heading-media\">\n                <img\n                  src={product.product_image[0].location}\n                  alt={product.name}\n                  className=\"specs-heading-media-img\"\n                />\n              </div>\n              <button className=\"btn specs-heading-action\">\n                <FontAwesomeIcon icon={faGear} />\n                <span>Cấu hình chi tiết</span>\n              </button>\n            </div>\n            <div className=\"specs-content\">\n              <ProductSpecs specsList={product.specification} />\n            </div>\n          </div>\n        </section>\n        <BoxProduct\n          name=\"Sản phẩm tương tự\"\n          products={relateProduct}\n          loading={false}\n          numberOfItem={5}\n          className=\"product-relate\"\n        />\n        <Comment name={product.name} productId={product._id} />\n      </div>\n    </main>\n  ) : (\n    false\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}