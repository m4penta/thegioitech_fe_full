{"ast":null,"code":"import { createSlice } from '@reduxjs/toolkit';\nimport { cart } from '../util/cart';\nconst initialState = {\n  cart: cart.getCart()\n};\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    setCart(state, action) {\n      state.cart = action.payload;\n      cart.setCart(action.payload);\n    },\n    addCart(state, action) {\n      let item = {\n        ...action.payload,\n        quantity: 1\n      };\n      const check = state.cart.some(value => value._id === item._id);\n      if (!check) {\n        state.cart.push(item);\n      }\n      cart.setCart(state.cart);\n    },\n    deleteCart(state, action) {\n      let item = {\n        ...action.payload,\n        quantity: 1\n      };\n      state.cart = state.cart.filter(value => value._id !== item._id);\n      cart.setCart(state.cart);\n    },\n    subQuantity(state, action) {\n      let item = {\n        ...action.payload,\n        quantity: 1\n      };\n      // eslint-disable-next-line array-callback-return\n      state.cart.filter(value => {\n        if (value._id === item._id) {\n          if (value.quantity - 1 === 0) {\n            state.cart = state.cart.filter(value => value._id !== item._id);\n          }\n          return value.quantity -= 1;\n        }\n      });\n      cart.setCart(state.cart);\n    },\n    addQuantity(state, action) {\n      let item = {\n        ...action.payload,\n        quantity: 1\n      };\n      // eslint-disable-next-line array-callback-return\n      state.cart.filter(value => {\n        if (value._id === item._id) {\n          return value.quantity += 1;\n        }\n      });\n      cart.setCart(state.cart);\n    },\n    destroyCart: (state, action) => {\n      state.cart = [];\n      cart.destroyCart();\n    }\n  }\n});\n\n//action\nexport const cartAction = cartSlice.actions;\n\n//select\nexport const selectCart = state => state.cart.cart;\nconst cartReducer = cartSlice.reducer;\nexport default cartReducer;","map":{"version":3,"names":["createSlice","cart","initialState","getCart","cartSlice","name","reducers","setCart","state","action","payload","addCart","item","quantity","check","some","value","_id","push","deleteCart","filter","subQuantity","addQuantity","destroyCart","cartAction","actions","selectCart","cartReducer","reducer"],"sources":["/Users/mac/Documents/Đồ án tốt nghiệp/ĐỒ ÁN/FE/thegioitech_fe_full/src/redux/cartSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { cart } from '../util/cart';\n\nconst initialState = {\n  cart: cart.getCart(),\n};\n\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    setCart(state, action) {\n      state.cart = action.payload;\n      cart.setCart(action.payload);\n    },\n\n    addCart(state, action) {\n      let item = {\n        ...action.payload,\n        quantity: 1,\n      };\n      const check = state.cart.some((value) => value._id === item._id);\n      if (!check) {\n        state.cart.push(item);\n      }\n      cart.setCart(state.cart);\n    },\n\n    deleteCart(state, action) {\n      let item = {\n        ...action.payload,\n        quantity: 1,\n      };\n      state.cart = state.cart.filter((value) => value._id !== item._id);\n      cart.setCart(state.cart);\n    },\n\n    subQuantity(state, action) {\n      let item = {\n        ...action.payload,\n        quantity: 1,\n      };\n      // eslint-disable-next-line array-callback-return\n      state.cart.filter((value) => {\n        if (value._id === item._id) {\n          if (value.quantity - 1 === 0) {\n            state.cart = state.cart.filter((value) => value._id !== item._id);\n          }\n          return (value.quantity -= 1);\n        }\n      });\n      cart.setCart(state.cart);\n    },\n\n    addQuantity(state, action) {\n      let item = {\n        ...action.payload,\n        quantity: 1,\n      };\n      // eslint-disable-next-line array-callback-return\n      state.cart.filter((value) => {\n        if (value._id === item._id) {\n          return (value.quantity += 1);\n        }\n      });\n      cart.setCart(state.cart);\n    },\n\n    destroyCart: (state, action) => {\n      state.cart = [];\n      cart.destroyCart();\n    },\n  },\n});\n\n//action\nexport const cartAction = cartSlice.actions;\n\n//select\nexport const selectCart = (state) => state.cart.cart;\n\nconst cartReducer = cartSlice.reducer;\nexport default cartReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}