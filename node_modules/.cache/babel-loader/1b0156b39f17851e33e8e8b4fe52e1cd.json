{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/\\u0110o\\u0302\\u0300 a\\u0301n to\\u0302\\u0301t nghie\\u0323\\u0302p/\\u0110O\\u0302\\u0300 A\\u0301N/thegioitech_fe_full/src/component/content-detail/comment-item.jsx\",\n    _s = $RefreshSig$();\n\nimport { faReply } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport moment from 'moment';\nimport { useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { axiosClient } from '../../access/api/axios-client';\nimport { getUserDecode } from '../../redux/authSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const CommentItem = props => {\n  _s();\n\n  const {\n    _id,\n    user,\n    updatedAt,\n    content,\n    product,\n    replyComment,\n    onRefesh\n  } = props;\n  const [replyActive, setReplyActive] = useState(false);\n  const replyRef = useRef(null);\n  const [error, setError] = useState('');\n  const userInfo = useSelector(getUserDecode);\n\n  const handleReplyClick = () => {\n    setReplyActive(!replyActive);\n  };\n\n  const handleReplySubmit = async () => {\n    if (replyRef.current.value.length < 5) {\n      setError(true);\n      return;\n    }\n\n    setError(false);\n    const replyComment = {\n      content: replyRef.current.value,\n      user: userInfo._id,\n      product: product._id\n    };\n\n    try {\n      await axiosClient.post('/comment/reply?id=' + _id, replyComment);\n      replyRef.current.value = '';\n      setReplyActive(false);\n      onRefesh();\n    } catch (error) {\n      console.log('üöÄ ~ file: comment-item.jsx ~ line 30 ~ handleReplySubmit ~ error', error);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"comment-list-item\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-item-media\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: 'https://hoanghamobile.com/Content/web/img/no-avt.png',\n        alt: \"No avatar\",\n        className: \"rounded-circle comment-item-img\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"comment-item-content\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"comment-item-detail\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-detail-heading\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"comment-detail-heading-text\",\n            children: user.firstName + ' ' + user.lastName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 57,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"time\", {\n            className: \"comment-detail-time\",\n            children: moment(updatedAt).fromNow()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"comment-detail-text\",\n          children: content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleReplyClick,\n      className: \"comment-action\",\n      children: /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n        icon: faReply\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reply-comment-list\",\n      children: replyComment === null || replyComment === void 0 ? void 0 : replyComment.map(_ref => {\n        let {\n          content,\n          _id,\n          user\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"comment-list-item reply-comment-item\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-item-media media\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: user.image,\n              alt: \"\",\n              className: \"rounded-circle comment-item-img\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"comment-item-detail reply-comment-content\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"comment-detail-heading\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"comment-detail-heading-text\",\n                children: [user.firstName + ' ' + user.lastName, user.role === 'admin' ? /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"comment-manager\",\n                  children: \"Qu\\u1EA3n tr\\u1ECB vi\\xEAn\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 21\n                }, this) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"time\", {\n                className: \"comment-detail-time\",\n                children: moment(updatedAt).fromNow()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 82,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"comment-detail-text content-main\",\n              children: content\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 13\n          }, this)]\n        }, _id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      className: \"comment-reply-input\",\n      ref: replyRef,\n      placeholder: \"Nh\\u1EADp t\\u1ED1i thi\\u1EC3u 5 k\\xFD t\\u1EF1.\",\n      style: {\n        display: replyActive ? 'block' : 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      type: \"button\",\n      onClick: handleReplySubmit,\n      className: \"comment-reply-btn\",\n      style: {\n        display: replyActive ? 'block' : 'none'\n      },\n      children: \"G\\u1EEDi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"reply-error\",\n      children: \"Vui l\\xF2ng \\u0111i\\u1EC1n t\\u1ED1i thi\\u1EC3u 5 k\\xFD t\\u1EF1!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 9\n    }, this)]\n  }, _id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CommentItem, \"4NPPRH5OBLxrUSgzX/ZO/5VJbp4=\", false, function () {\n  return [useSelector];\n});\n\n_c = CommentItem;\n\nvar _c;\n\n$RefreshReg$(_c, \"CommentItem\");","map":{"version":3,"sources":["/Users/mac/Documents/ƒêoÃÇÃÄ aÃÅn toÃÇÃÅt nghieÃ£ÃÇp/ƒêOÃÇÃÄ AÃÅN/thegioitech_fe_full/src/component/content-detail/comment-item.jsx"],"names":["faReply","FontAwesomeIcon","moment","useRef","useState","useSelector","axiosClient","getUserDecode","CommentItem","props","_id","user","updatedAt","content","product","replyComment","onRefesh","replyActive","setReplyActive","replyRef","error","setError","userInfo","handleReplyClick","handleReplySubmit","current","value","length","post","console","log","firstName","lastName","fromNow","map","image","role","display"],"mappings":";;;AAAA,SAASA,OAAT,QAAwB,mCAAxB;AACA,SAASC,eAAT,QAAgC,gCAAhC;AACA,OAAOC,MAAP,MAAmB,QAAnB;AACA,SAASC,MAAT,EAAiBC,QAAjB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,WAAT,QAA4B,+BAA5B;AACA,SAASC,aAAT,QAA8B,uBAA9B;;AAEA,OAAO,MAAMC,WAAW,GAAIC,KAAD,IAAW;AAAA;;AACpC,QAAM;AAAEC,IAAAA,GAAF;AAAOC,IAAAA,IAAP;AAAaC,IAAAA,SAAb;AAAwBC,IAAAA,OAAxB;AAAiCC,IAAAA,OAAjC;AAA0CC,IAAAA,YAA1C;AAAwDC,IAAAA;AAAxD,MACJP,KADF;AAEA,QAAM,CAACQ,WAAD,EAAcC,cAAd,IAAgCd,QAAQ,CAAC,KAAD,CAA9C;AACA,QAAMe,QAAQ,GAAGhB,MAAM,CAAC,IAAD,CAAvB;AACA,QAAM,CAACiB,KAAD,EAAQC,QAAR,IAAoBjB,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMkB,QAAQ,GAAGjB,WAAW,CAACE,aAAD,CAA5B;;AAEA,QAAMgB,gBAAgB,GAAG,MAAM;AAC7BL,IAAAA,cAAc,CAAC,CAACD,WAAF,CAAd;AACD,GAFD;;AAIA,QAAMO,iBAAiB,GAAG,YAAY;AACpC,QAAIL,QAAQ,CAACM,OAAT,CAAiBC,KAAjB,CAAuBC,MAAvB,GAAgC,CAApC,EAAuC;AACrCN,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACA;AACD;;AACDA,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACA,UAAMN,YAAY,GAAG;AACnBF,MAAAA,OAAO,EAAEM,QAAQ,CAACM,OAAT,CAAiBC,KADP;AAEnBf,MAAAA,IAAI,EAAEW,QAAQ,CAACZ,GAFI;AAGnBI,MAAAA,OAAO,EAAEA,OAAO,CAACJ;AAHE,KAArB;;AAKA,QAAI;AACF,YAAMJ,WAAW,CAACsB,IAAZ,CAAiB,uBAAuBlB,GAAxC,EAA6CK,YAA7C,CAAN;AACAI,MAAAA,QAAQ,CAACM,OAAT,CAAiBC,KAAjB,GAAyB,EAAzB;AACAR,MAAAA,cAAc,CAAC,KAAD,CAAd;AACAF,MAAAA,QAAQ;AACT,KALD,CAKE,OAAOI,KAAP,EAAc;AACdS,MAAAA,OAAO,CAACC,GAAR,CACE,mEADF,EAEEV,KAFF;AAID;AACF,GAtBD;;AAwBA,sBACE;AAAe,IAAA,SAAS,EAAC,mBAAzB;AAAA,4BACE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA,6BACE;AACE,QAAA,GAAG,EAAE,sDADP;AAEE,QAAA,GAAG,EAAC,WAFN;AAGE,QAAA,SAAS,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF,eAQE;AAAK,MAAA,SAAS,EAAC,sBAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,qBAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,wBAAf;AAAA,kCACE;AAAG,YAAA,SAAS,EAAC,6BAAb;AAAA,sBACGT,IAAI,CAACoB,SAAL,GAAiB,GAAjB,GAAuBpB,IAAI,CAACqB;AAD/B;AAAA;AAAA;AAAA;AAAA,kBADF,eAIE;AAAM,YAAA,SAAS,EAAC,qBAAhB;AAAA,sBACG9B,MAAM,CAACU,SAAD,CAAN,CAAkBqB,OAAlB;AADH;AAAA;AAAA;AAAA;AAAA,kBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eASE;AAAG,UAAA,SAAS,EAAC,qBAAb;AAAA,oBAAoCpB;AAApC;AAAA;AAAA;AAAA;AAAA,gBATF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YARF,eAqBE;AAAQ,MAAA,OAAO,EAAEU,gBAAjB;AAAmC,MAAA,SAAS,EAAC,gBAA7C;AAAA,6BACE,QAAC,eAAD;AAAiB,QAAA,IAAI,EAAEvB;AAAvB;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YArBF,eAwBE;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA,gBACGe,YADH,aACGA,YADH,uBACGA,YAAY,CAAEmB,GAAd,CAAkB;AAAA,YAAC;AAAErB,UAAAA,OAAF;AAAWH,UAAAA,GAAX;AAAgBC,UAAAA;AAAhB,SAAD;AAAA,4BACjB;AAAe,UAAA,SAAS,EAAC,sCAAzB;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,0BAAf;AAAA,mCACE;AACE,cAAA,GAAG,EAAEA,IAAI,CAACwB,KADZ;AAEE,cAAA,GAAG,EAAC,EAFN;AAGE,cAAA,SAAS,EAAC;AAHZ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eASE;AAAK,YAAA,SAAS,EAAC,2CAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,wBAAf;AAAA,sCACE;AAAG,gBAAA,SAAS,EAAC,6BAAb;AAAA,2BACGxB,IAAI,CAACoB,SAAL,GAAiB,GAAjB,GAAuBpB,IAAI,CAACqB,QAD/B,EAEGrB,IAAI,CAACyB,IAAL,KAAc,OAAd,gBACC;AAAM,kBAAA,SAAS,EAAC,iBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADD,GAEG,IAJN;AAAA;AAAA;AAAA;AAAA;AAAA,sBADF,eAOE;AAAM,gBAAA,SAAS,EAAC,qBAAhB;AAAA,0BACGlC,MAAM,CAACU,SAAD,CAAN,CAAkBqB,OAAlB;AADH;AAAA;AAAA;AAAA;AAAA,sBAPF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eAYE;AAAG,cAAA,SAAS,EAAC,kCAAb;AAAA,wBAAiDpB;AAAjD;AAAA;AAAA;AAAA;AAAA,oBAZF;AAAA;AAAA;AAAA;AAAA;AAAA,kBATF;AAAA,WAAUH,GAAV;AAAA;AAAA;AAAA;AAAA,gBADiB;AAAA,OAAlB;AADH;AAAA;AAAA;AAAA;AAAA,YAxBF,eAoDE;AACE,MAAA,IAAI,EAAC,MADP;AAEE,MAAA,SAAS,EAAC,qBAFZ;AAGE,MAAA,GAAG,EAAES,QAHP;AAIE,MAAA,WAAW,EAAC,gDAJd;AAKE,MAAA,KAAK,EAAE;AAAEkB,QAAAA,OAAO,EAAEpB,WAAW,GAAG,OAAH,GAAa;AAAnC;AALT;AAAA;AAAA;AAAA;AAAA,YApDF,eA2DE;AACE,MAAA,IAAI,EAAC,QADP;AAEE,MAAA,OAAO,EAAEO,iBAFX;AAGE,MAAA,SAAS,EAAC,mBAHZ;AAIE,MAAA,KAAK,EAAE;AAAEa,QAAAA,OAAO,EAAEpB,WAAW,GAAG,OAAH,GAAa;AAAnC,OAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YA3DF,EAmEGG,KAAK,iBACJ;AAAM,MAAA,SAAS,EAAC,aAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YApEJ;AAAA,KAAUV,GAAV;AAAA;AAAA;AAAA;AAAA,UADF;AAyED,CA7GM;;GAAMF,W;UAMMH,W;;;KANNG,W","sourcesContent":["import { faReply } from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport moment from 'moment';\nimport { useRef, useState } from 'react';\nimport { useSelector } from 'react-redux';\nimport { axiosClient } from '../../access/api/axios-client';\nimport { getUserDecode } from '../../redux/authSlice';\n\nexport const CommentItem = (props) => {\n  const { _id, user, updatedAt, content, product, replyComment, onRefesh } =\n    props;\n  const [replyActive, setReplyActive] = useState(false);\n  const replyRef = useRef(null);\n  const [error, setError] = useState('');\n  const userInfo = useSelector(getUserDecode);\n\n  const handleReplyClick = () => {\n    setReplyActive(!replyActive);\n  };\n\n  const handleReplySubmit = async () => {\n    if (replyRef.current.value.length < 5) {\n      setError(true);\n      return;\n    }\n    setError(false);\n    const replyComment = {\n      content: replyRef.current.value,\n      user: userInfo._id,\n      product: product._id,\n    };\n    try {\n      await axiosClient.post('/comment/reply?id=' + _id, replyComment);\n      replyRef.current.value = '';\n      setReplyActive(false);\n      onRefesh();\n    } catch (error) {\n      console.log(\n        'üöÄ ~ file: comment-item.jsx ~ line 30 ~ handleReplySubmit ~ error',\n        error\n      );\n    }\n  };\n\n  return (\n    <div key={_id} className='comment-list-item'>\n      <div className='comment-item-media'>\n        <img\n          src={'https://hoanghamobile.com/Content/web/img/no-avt.png'}\n          alt='No avatar'\n          className='rounded-circle comment-item-img'\n        />\n      </div>\n      <div className='comment-item-content'>\n        <div className='comment-item-detail'>\n          <div className='comment-detail-heading'>\n            <p className='comment-detail-heading-text'>\n              {user.firstName + ' ' + user.lastName}\n            </p>\n            <time className='comment-detail-time'>\n              {moment(updatedAt).fromNow()}\n            </time>\n          </div>\n          <p className='comment-detail-text'>{content}</p>\n        </div>\n      </div>\n      <button onClick={handleReplyClick} className='comment-action'>\n        <FontAwesomeIcon icon={faReply} />\n      </button>\n      <div className='reply-comment-list'>\n        {replyComment?.map(({ content, _id, user }) => (\n          <div key={_id} className='comment-list-item reply-comment-item'>\n            <div className='comment-item-media media'>\n              <img\n                src={user.image}\n                alt=''\n                className='rounded-circle comment-item-img'\n              />\n            </div>\n\n            <div className='comment-item-detail reply-comment-content'>\n              <div className='comment-detail-heading'>\n                <p className='comment-detail-heading-text'>\n                  {user.firstName + ' ' + user.lastName}\n                  {user.role === 'admin' ? (\n                    <span className='comment-manager'>Qu·∫£n tr·ªã vi√™n</span>\n                  ) : null}\n                </p>\n                <time className='comment-detail-time'>\n                  {moment(updatedAt).fromNow()}\n                </time>\n              </div>\n              <p className='comment-detail-text content-main'>{content}</p>\n            </div>\n          </div>\n        ))}\n      </div>\n      <input\n        type='text'\n        className='comment-reply-input'\n        ref={replyRef}\n        placeholder='Nh·∫≠p t·ªëi thi·ªÉu 5 k√Ω t·ª±.'\n        style={{ display: replyActive ? 'block' : 'none' }}\n      />\n      <button\n        type='button'\n        onClick={handleReplySubmit}\n        className='comment-reply-btn'\n        style={{ display: replyActive ? 'block' : 'none' }}\n      >\n        G·ª≠i\n      </button>\n      {error && (\n        <span className='reply-error'>Vui l√≤ng ƒëi·ªÅn t·ªëi thi·ªÉu 5 k√Ω t·ª±!</span>\n      )}\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}