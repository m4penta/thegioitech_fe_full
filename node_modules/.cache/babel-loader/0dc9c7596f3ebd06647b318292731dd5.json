{"ast":null,"code":"import _objectSpread from\"/Users/mac/Documents/\\u0110o\\u0302\\u0300 a\\u0301n to\\u0302\\u0301t nghie\\u0323\\u0302p/\\u0110O\\u0302\\u0300 A\\u0301N/FE/thegioitech_fe_full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{createSlice}from'@reduxjs/toolkit';import{cart}from'../util/cart';var initialState={cart:cart.getCart()};var cartSlice=createSlice({name:'cart',initialState:initialState,reducers:{setCart:function setCart(state,action){state.cart=action.payload;cart.setCart(action.payload);},addCart:function addCart(state,action){var item=_objectSpread(_objectSpread({},action.payload),{},{quantity:1});var check=state.cart.some(function(value){return value._id===item._id;});if(!check){state.cart.push(item);}cart.setCart(state.cart);},deleteCart:function deleteCart(state,action){var item=_objectSpread(_objectSpread({},action.payload),{},{quantity:1});state.cart=state.cart.filter(function(value){return value._id!==item._id;});cart.setCart(state.cart);},subQuantity:function subQuantity(state,action){var item=_objectSpread(_objectSpread({},action.payload),{},{quantity:1});// eslint-disable-next-line array-callback-return\nstate.cart.filter(function(value){if(value._id===item._id){if(value.quantity-1===0){state.cart=state.cart.filter(function(value){return value._id!==item._id;});}return value.quantity-=1;}});cart.setCart(state.cart);},addQuantity:function addQuantity(state,action){var item=_objectSpread(_objectSpread({},action.payload),{},{quantity:1});// eslint-disable-next-line array-callback-return\nstate.cart.filter(function(value){if(value._id===item._id){return value.quantity+=1;}});cart.setCart(state.cart);},destroyCart:function destroyCart(state,action){state.cart=[];cart.destroyCart();}}});//action\nexport var cartAction=cartSlice.actions;//select\nexport var selectCart=function selectCart(state){return state.cart.cart;};var cartReducer=cartSlice.reducer;export default cartReducer;","map":{"version":3,"names":["createSlice","cart","initialState","getCart","cartSlice","name","reducers","setCart","state","action","payload","addCart","item","_objectSpread","quantity","check","some","value","_id","push","deleteCart","filter","subQuantity","addQuantity","destroyCart","cartAction","actions","selectCart","cartReducer","reducer"],"sources":["/Users/mac/Documents/Đồ án tốt nghiệp/ĐỒ ÁN/FE/thegioitech_fe_full/src/redux/cartSlice.js"],"sourcesContent":["import { createSlice } from '@reduxjs/toolkit';\nimport { cart } from '../util/cart';\n\nconst initialState = {\n  cart: cart.getCart(),\n};\n\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n    setCart(state, action) {\n      state.cart = action.payload;\n      cart.setCart(action.payload);\n    },\n\n    addCart(state, action) {\n      let item = {\n        ...action.payload,\n        quantity: 1,\n      };\n      const check = state.cart.some((value) => value._id === item._id);\n      if (!check) {\n        state.cart.push(item);\n      }\n      cart.setCart(state.cart);\n    },\n\n    deleteCart(state, action) {\n      let item = {\n        ...action.payload,\n        quantity: 1,\n      };\n      state.cart = state.cart.filter((value) => value._id !== item._id);\n      cart.setCart(state.cart);\n    },\n\n    subQuantity(state, action) {\n      let item = {\n        ...action.payload,\n        quantity: 1,\n      };\n      // eslint-disable-next-line array-callback-return\n      state.cart.filter((value) => {\n        if (value._id === item._id) {\n          if (value.quantity - 1 === 0) {\n            state.cart = state.cart.filter((value) => value._id !== item._id);\n          }\n          return (value.quantity -= 1);\n        }\n      });\n      cart.setCart(state.cart);\n    },\n\n    addQuantity(state, action) {\n      let item = {\n        ...action.payload,\n        quantity: 1,\n      };\n      // eslint-disable-next-line array-callback-return\n      state.cart.filter((value) => {\n        if (value._id === item._id) {\n          return (value.quantity += 1);\n        }\n      });\n      cart.setCart(state.cart);\n    },\n\n    destroyCart: (state, action) => {\n      state.cart = [];\n      cart.destroyCart();\n    },\n  },\n});\n\n//action\nexport const cartAction = cartSlice.actions;\n\n//select\nexport const selectCart = (state) => state.cart.cart;\n\nconst cartReducer = cartSlice.reducer;\nexport default cartReducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}