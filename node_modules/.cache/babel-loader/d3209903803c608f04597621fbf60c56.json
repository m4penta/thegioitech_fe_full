{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Documents/\\u0110o\\u0302\\u0300 a\\u0301n to\\u0302\\u0301t nghie\\u0323\\u0302p/\\u0110O\\u0302\\u0300 A\\u0301N/thegioitech_fe_full/src/component/content-detail/index.jsx\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport parse from \"html-react-parser\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Comment } from \"./comment\";\nimport { ProductBox } from \"./product-box\";\nimport { BoxProduct } from \"../common/\";\nimport { Store } from \"./store\";\nimport { ProductSlider } from \"./product-slider\";\nimport { faGear } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./content-detail.scss\";\nimport { ProductSpecs } from \"./product-specs\";\nimport { query } from \"../../access/index\";\nimport QueryString from \"qs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ContentDetail = () => {\n  _s();\n\n  const {\n    slug\n  } = useParams();\n  const [product, setProduct] = useState();\n  const [category, setCategory] = useState();\n  const [isArticleExpand, setIsArticleExpand] = useState(false);\n  const [relateProduct, setRelateProduct] = useState([]);\n\n  const handleArticleAction = () => {\n    setIsArticleExpand(!isArticleExpand);\n  };\n\n  useEffect(() => {\n    (async () => {\n      const {\n        data: {\n          product\n        }\n      } = await query().product.getOne(slug);\n      setProduct(product);\n    })();\n  }, [slug]);\n  useEffect(() => {\n    (async () => {\n      const {\n        data: {\n          category\n        }\n      } = await query().category.getOne(slug);\n      setCategory(category);\n    })();\n  }, [slug]);\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [product]);\n  useEffect(() => {\n    let isCancelling = false;\n\n    (async () => {\n      try {\n        const {\n          data\n        } = await query().product.getFilter(QueryString.stringify({\n          category: product.category,\n          brand: product.brand\n        }));\n        setRelateProduct(data);\n\n        if (isCancelling === false) {}\n      } catch (error) {}\n\n      return () => {\n        isCancelling = true;\n      };\n    })();\n  }, [product]);\n  return product ? /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"content-wrap\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-heading\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"content-heading-text\",\n          children: product.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }, this), product.flash_sale && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"content-heading-flashsale\",\n          children: \"Flash sale\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"detail-box-wrap\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"detail-box\",\n          children: [/*#__PURE__*/_jsxDEV(ProductSlider, {\n            images: product.product_image\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(ProductBox, {\n            product: product\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Store, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"description\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: isArticleExpand ? `article article-expand` : `article`,\n          children: [product.article && parse(product.article), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleArticleAction,\n            type: \"button\",\n            className: \"btn article-btn\",\n            children: isArticleExpand ? \"Thu gọn\" : \"Xem thêm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"specs\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"specs-heading\",\n            children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n              className: \"specs-heading-text\",\n              children: [\"Th\\xF4ng s\\u1ED1 k\\u1EF9 thu\\u1EADt \", product.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"specs-heading-media\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: product.product_image[0].location,\n                alt: product.name,\n                className: \"specs-heading-media-img\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"btn specs-heading-action\",\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faGear\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 109,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"C\\u1EA5u h\\xECnh chi ti\\u1EBFt\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"specs-content\",\n            children: /*#__PURE__*/_jsxDEV(ProductSpecs, {\n              specsList: product.specification\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(BoxProduct, {\n        name: \"S\\u1EA3n ph\\u1EA9m t\\u01B0\\u01A1ng t\\u1EF1\",\n        products: relateProduct,\n        loading: false,\n        numberOfItem: 5,\n        className: \"product-relate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Comment, {\n        name: product.name,\n        productId: product._id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this) : false;\n};\n\n_s(ContentDetail, \"MwKpp/Z+vNIFRXG8NXDA9PrOFpI=\", false, function () {\n  return [useParams];\n});\n\n_c = ContentDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"ContentDetail\");","map":{"version":3,"sources":["/Users/mac/Documents/Đồ án tốt nghiệp/ĐỒ ÁN/thegioitech_fe_full/src/component/content-detail/index.jsx"],"names":["useEffect","useState","useParams","parse","FontAwesomeIcon","Comment","ProductBox","BoxProduct","Store","ProductSlider","faGear","ProductSpecs","query","QueryString","ContentDetail","slug","product","setProduct","category","setCategory","isArticleExpand","setIsArticleExpand","relateProduct","setRelateProduct","handleArticleAction","data","getOne","window","scrollTo","isCancelling","getFilter","stringify","brand","error","name","flash_sale","product_image","article","location","specification","_id"],"mappings":"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","sourcesContent":["import { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport parse from \"html-react-parser\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport { Comment } from \"./comment\";\nimport { ProductBox } from \"./product-box\";\nimport { BoxProduct } from \"../common/\";\nimport { Store } from \"./store\";\nimport { ProductSlider } from \"./product-slider\";\nimport { faGear } from \"@fortawesome/free-solid-svg-icons\";\nimport \"./content-detail.scss\";\nimport { ProductSpecs } from \"./product-specs\";\nimport { query } from \"../../access/index\";\nimport QueryString from \"qs\";\n\nexport const ContentDetail = () => {\n  const { slug } = useParams();\n  const [product, setProduct] = useState();\n  const [category, setCategory] = useState();\n  const [isArticleExpand, setIsArticleExpand] = useState(false);\n  const [relateProduct, setRelateProduct] = useState([]);\n\n  const handleArticleAction = () => {\n    setIsArticleExpand(!isArticleExpand);\n  };\n\n  useEffect(() => {\n    (async () => {\n      const {\n        data: { product },\n      } = await query().product.getOne(slug);\n      setProduct(product);\n    })();\n  }, [slug]);\n  useEffect(() => {\n    (async () => {\n      const {\n        data: { category },\n      } = await query().category.getOne(slug);\n      setCategory(category);\n    })();\n  }, [slug]);\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [product]);\n\n  useEffect(() => {\n    let isCancelling = false;\n    (async () => {\n      try {\n        const { data } = await query().product.getFilter(\n          QueryString.stringify({\n            category: product.category,\n            brand: product.brand,\n          })\n        );\n        setRelateProduct(data);\n        if (isCancelling === false) {\n        }\n      } catch (error) {}\n      return () => {\n        isCancelling = true;\n      };\n    })();\n  }, [product]);\n\n  return product ? (\n    <main className=\"content-wrap\">\n      <div className=\"container content\">\n        <div className=\"content-heading\">\n          <h1 className=\"content-heading-text\">{product.name}</h1>\n          {product.flash_sale && (\n            <span className=\"content-heading-flashsale\">Flash sale</span>\n          )}\n        </div>\n        <section className=\"detail-box-wrap\">\n          <div className=\"detail-box\">\n            <ProductSlider images={product.product_image} />\n            <ProductBox product={product} />\n            <Store />\n          </div>\n        </section>\n        <section className=\"description\">\n          <div\n            className={isArticleExpand ? `article article-expand` : `article`}\n          >\n            {product.article && parse(product.article)}\n            <button\n              onClick={handleArticleAction}\n              type=\"button\"\n              className=\"btn article-btn\"\n            >\n              {isArticleExpand ? \"Thu gọn\" : \"Xem thêm\"}\n            </button>\n          </div>\n          <div className=\"specs\">\n            <div className=\"specs-heading\">\n              <h6 className=\"specs-heading-text\">\n                Thông số kỹ thuật {product.name}\n              </h6>\n              <div className=\"specs-heading-media\">\n                <img\n                  src={product.product_image[0].location}\n                  alt={product.name}\n                  className=\"specs-heading-media-img\"\n                />\n              </div>\n              <button className=\"btn specs-heading-action\">\n                <FontAwesomeIcon icon={faGear} />\n                <span>Cấu hình chi tiết</span>\n              </button>\n            </div>\n            <div className=\"specs-content\">\n              <ProductSpecs specsList={product.specification} />\n            </div>\n          </div>\n        </section>\n        <BoxProduct\n          name=\"Sản phẩm tương tự\"\n          products={relateProduct}\n          loading={false}\n          numberOfItem={5}\n          className=\"product-relate\"\n        />\n        <Comment name={product.name} productId={product._id} />\n      </div>\n    </main>\n  ) : (\n    false\n  );\n};\n"]},"metadata":{},"sourceType":"module"}