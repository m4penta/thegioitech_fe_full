{"ast":null,"code":"import _regeneratorRuntime from\"/Users/mac/Documents/\\u0110o\\u0302\\u0300 a\\u0301n to\\u0302\\u0301t nghie\\u0323\\u0302p/\\u0110O\\u0302\\u0300 A\\u0301N/FE/thegioitech_fe_full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/mac/Documents/\\u0110o\\u0302\\u0300 a\\u0301n to\\u0302\\u0301t nghie\\u0323\\u0302p/\\u0110O\\u0302\\u0300 A\\u0301N/FE/thegioitech_fe_full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/mac/Documents/\\u0110o\\u0302\\u0300 a\\u0301n to\\u0302\\u0301t nghie\\u0323\\u0302p/\\u0110O\\u0302\\u0300 A\\u0301N/FE/thegioitech_fe_full/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{faBolt,faChevronRight,faChevronLeft}from'@fortawesome/free-solid-svg-icons';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{useEffect,useRef,useState}from'react';import{Link}from'react-router-dom';import{Swiper,SwiperSlide}from'swiper/react';import{query}from'../../access';import{discountPrice,formatCurrency,slugify}from'../../util';import'swiper/swiper.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var FlashSale=function FlashSale(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),flashSaleProducts=_useState2[0],setFlashSaleProducts=_useState2[1];var navigationPrevRef=useRef(null);var navigationNextRef=useRef(null);useEffect(function(){var isCancelling=false;_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$query$product$,products,saleProducts;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return query().product.getAll();case 2:_yield$query$product$=_context.sent;products=_yield$query$product$.data.products;saleProducts=products.filter(function(entity){return entity.flash_sale===true;});if(isCancelling===false){setFlashSaleProducts(saleProducts);}case 6:case\"end\":return _context.stop();}}},_callee);}))();return function(){isCancelling=true;};},[]);return/*#__PURE__*/_jsx(\"section\",{className:\"container flashsale-wrap\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flashsale\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flashsale-heading\",children:/*#__PURE__*/_jsxs(\"h4\",{className:\"flashsale-heading-text\",children:[\"F\",/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faBolt}),\"ASH SALE ONLINE\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"flashsale-slider-wrap\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flashsale-slider\",children:/*#__PURE__*/_jsxs(Swiper,{spaceBetween:14,slidesPerView:5,navigation:{prevEl:navigationPrevRef.current,nextEl:navigationNextRef.current},pagination:{clickable:true},scrollbar:{draggable:true},className:\"slider-container\",children:[flashSaleProducts===null||flashSaleProducts===void 0?void 0:flashSaleProducts.map(function(_ref2,index){var thumbnail=_ref2.thumbnail,name=_ref2.name,option=_ref2.option,discount=_ref2.discount,_id=_ref2._id;return/*#__PURE__*/_jsxs(SwiperSlide,{className:\"slider-card\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"slider-card-heading\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(_id),className:\"slider-card-link\",children:/*#__PURE__*/_jsx(\"img\",{src:thumbnail.location,alt:slugify(name),className:\"slider-card-image\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"slider-card-content\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"slider-card-name\",children:/*#__PURE__*/_jsx(Link,{to:\"/product/\".concat(_id),className:\"slider-card-content-link\",children:name})}),/*#__PURE__*/_jsxs(\"div\",{className:\"slider-card-price-box\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"slider-card-price new\",children:discountPrice(option[0].price,discount)}),/*#__PURE__*/_jsx(\"del\",{className:\"slider-card-price old\",children:formatCurrency(option[0].price)})]})]})]},index);}),/*#__PURE__*/_jsx(\"button\",{ref:navigationPrevRef,type:\"button\",className:\"btn slider-navigation left\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faChevronLeft})}),/*#__PURE__*/_jsx(\"button\",{ref:navigationNextRef,type:\"button\",className:\"btn slider-navigation right\",children:/*#__PURE__*/_jsx(FontAwesomeIcon,{icon:faChevronRight})})]})})})]})});};","map":{"version":3,"names":["faBolt","faChevronRight","faChevronLeft","FontAwesomeIcon","useEffect","useRef","useState","Link","Swiper","SwiperSlide","query","discountPrice","formatCurrency","slugify","jsx","_jsx","jsxs","_jsxs","FlashSale","_useState","_useState2","_slicedToArray","flashSaleProducts","setFlashSaleProducts","navigationPrevRef","navigationNextRef","isCancelling","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$query$product$","products","saleProducts","wrap","_callee$","_context","prev","next","product","getAll","sent","data","filter","entity","flash_sale","stop","className","children","icon","spaceBetween","slidesPerView","navigation","prevEl","current","nextEl","pagination","clickable","scrollbar","draggable","map","_ref2","index","thumbnail","name","option","discount","_id","to","concat","src","location","alt","price","ref","type"],"sources":["/Users/mac/Documents/Đồ án tốt nghiệp/ĐỒ ÁN/FE/thegioitech_fe_full/src/component/home/flash-sale.jsx"],"sourcesContent":["import {\n  faBolt,\n  faChevronRight,\n  faChevronLeft,\n} from '@fortawesome/free-solid-svg-icons';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { useEffect, useRef, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport { Swiper, SwiperSlide } from 'swiper/react';\nimport { query } from '../../access';\nimport { discountPrice, formatCurrency, slugify } from '../../util';\nimport 'swiper/swiper.scss';\n\nexport const FlashSale = () => {\n  const [flashSaleProducts, setFlashSaleProducts] = useState([]);\n  const navigationPrevRef = useRef(null);\n  const navigationNextRef = useRef(null);\n\n  useEffect(() => {\n    let isCancelling = false;\n    (async () => {\n      const {\n        data: { products },\n      } = await query().product.getAll();\n      const saleProducts = products.filter(\n        (entity) => entity.flash_sale === true\n      );\n      if (isCancelling === false) {\n        setFlashSaleProducts(saleProducts);\n      }\n    })();\n    return () => {\n      isCancelling = true;\n    };\n  }, []);\n\n  return (\n    <section className='container flashsale-wrap'>\n      <div className='flashsale'>\n        <div className='flashsale-heading'>\n          <h4 className='flashsale-heading-text'>\n            F<FontAwesomeIcon icon={faBolt} />\n            ASH SALE ONLINE\n          </h4>\n        </div>\n        <div className='flashsale-slider-wrap'>\n          <div className='flashsale-slider'>\n            <Swiper\n              spaceBetween={14}\n              slidesPerView={5}\n              navigation={{\n                prevEl: navigationPrevRef.current,\n                nextEl: navigationNextRef.current,\n              }}\n              pagination={{ clickable: true }}\n              scrollbar={{ draggable: true }}\n              className='slider-container'\n            >\n              {flashSaleProducts?.map(\n                ({ thumbnail, name, option, discount, _id }, index) => (\n                  <SwiperSlide key={index} className='slider-card'>\n                    <div className='slider-card-heading'>\n                      <Link to={`/product/${_id}`} className='slider-card-link'>\n                        <img\n                          src={thumbnail.location}\n                          alt={slugify(name)}\n                          className='slider-card-image'\n                        />\n                      </Link>\n                    </div>\n                    <div className='slider-card-content'>\n                      <h5 className='slider-card-name'>\n                        <Link\n                          to={`/product/${_id}`}\n                          className='slider-card-content-link'\n                        >\n                          {name}\n                        </Link>\n                      </h5>\n                      <div className='slider-card-price-box'>\n                        <span className='slider-card-price new'>\n                          {discountPrice(option[0].price, discount)}\n                        </span>\n                        <del className='slider-card-price old'>\n                          {formatCurrency(option[0].price)}\n                        </del>\n                      </div>\n                    </div>\n                  </SwiperSlide>\n                )\n              )}\n              <button\n                ref={navigationPrevRef}\n                type='button'\n                className='btn slider-navigation left'\n              >\n                <FontAwesomeIcon icon={faChevronLeft} />\n              </button>\n              <button\n                ref={navigationNextRef}\n                type='button'\n                className='btn slider-navigation right'\n              >\n                <FontAwesomeIcon icon={faChevronRight} />\n              </button>\n            </Swiper>\n          </div>\n        </div>\n      </div>\n    </section>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}